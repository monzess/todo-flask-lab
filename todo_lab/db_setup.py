import sqlite3  # Подключаем встроенный модуль Python для работы с SQLite (он уже есть в стандартной библиотеке).

DB_NAME = "todo.db"  # Это имя файла БД: в SQLite база данных - это обычный файл на диске.

conn = sqlite3.connect(DB_NAME)  # Открываем соединение с файлом БД; если файла ещё нет - он будет создан автоматически.
cursor = conn.cursor()  # Создаём «курсор» - объект, через который выполняются SQL-команды.

cursor.execute(  # Выполняем SQL-команду (одну строку SQL).
    "CREATE TABLE IF NOT EXISTS tasks ("  # Создаём таблицу tasks, если её ещё нет (IF NOT EXISTS защищает от ошибки при повторном запуске). 
    "id INTEGER PRIMARY KEY, "  # Поле id - целое и является первичным ключом; SQLite сам подставит id, если мы его не укажем. 
    "title TEXT"  # Поле title - текст: здесь будем хранить название задачи. 
    ")"  # Закрываем круглые скобки в SQL.
)  # Заканчиваем вызов cursor.execute(...).

cursor.execute(  # Выполняем INSERT - добавляем одну строку в таблицу.
    "INSERT INTO tasks (title) VALUES (?)",  # Значение title передаём через плейсхолдер ?, а не склейкой строк.
    ("Купить молоко",)  # Это кортеж параметров: запятая важна, потому что кортеж из одного элемента пишется (x,).
)  # Завершаем выполнение первого INSERT.

cursor.execute(  # Добавляем ещё одну задачу, чтобы было что читать через SELECT.
    "INSERT INTO tasks (title) VALUES (?)",  # Тот же запрос: меняется только значение.
    ("Сделать домашку",)  # Второе значение для вставки (тоже кортеж из одного элемента).
)  # Завершаем второй INSERT.

conn.commit()  # Сохраняем изменения в файле БД: INSERT/UPDATE/DELETE обычно требуют commit(), чтобы данные точно записались.

cursor.execute("SELECT id, title FROM tasks")  # Выполняем SELECT: просим вернуть все задачи (id и title) из таблицы tasks.
rows = cursor.fetchall()  # Получаем все строки результата сразу: это будет список кортежей [(id, title), (id, title), ...].

print("Задачи в базе данных:")  # Просто печатаем заголовок, чтобы вывод выглядел понятнее.
for row in rows:  # Перебираем по одной строке результата (каждая строка - это кортеж).
    task_id = row[0]  # В кортеже первый элемент (индекс 0) - это id.
    title = row[1]  # Второй элемент (индекс 1) - это title.
    print(task_id, "-", title)  # Выводим задачу «id - title» обычным print.

conn.close()  # Закрываем соединение с БД – хорошая привычка (освобождает ресурсы и завершает работу с файлом).